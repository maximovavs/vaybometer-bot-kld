#!/usr/bin/env python3
# -*- coding: utf-8 -*-

"""
utils.py  โข ะฒัะฟะพะผะพะณะฐัะตะปัะฝัะต ััะฝะบัะธะธ ะธ ะบะพะฝััะฐะฝัั VayboMeter-ะฑะพัะฐ

 - compass(deg)          โ ะฒะพะทะฒัะฐัะฐะตั ะฝะฐะฟัะฐะฒะปะตะฝะธะต ะฒะตััะฐ ะฟะพ ัะณะปั deg (0โ360)
 - clouds_word(pc)       โ ะฒะพะทะฒัะฐัะฐะตั ยซััะฝะพ/ะฟะตัะตะผะตะฝะฝะฐั/ะฟะฐัะผััะฝะพยป ะฟะพ ะฟัะพัะตะฝัั ะพะฑะปะฐัะฝะพััะธ
 - wind_phrase(km_h)     โ ะฒะพะทะฒัะฐัะฐะตั ยซััะธะปั/ัะปะฐะฑัะน/ัะผะตัะตะฝะฝัะน/ัะธะปัะฝัะนยป ะฟะพ ัะบะพัะพััะธ ะฒะตััะฐ
 - safe(v, unit)         โ None โ ยซโยป, ัะธัะปะพ โ ยซX.ะฅ{unit}ยป
 - aqi_color(aqi)        โ ัะผะพะดะทะธ ััะพะฒะฝั AQI
 - pm_color(pm, unit?)   โ ัะผะพะดะทะธ + ะฟะพะบะฐะท PMโ.โ/PMโโ
 - kp_emoji(kp)          โ ัะผะพะดะทะธ ะฟะพ ะธะฝะดะตะบัั ะp
 - pressure_trend(w)     โ ััะตะฝะด ะดะฐะฒะปะตะฝะธั (ยซโยป, ยซโยป ะธะปะธ ยซโยป)
 - HTTP-ะพะฑัััะบะธ: _get / _get_retry
 - get_fact(date, region) โ ยซัะฐะบั ะดะฝัยป ะฒ ะทะฐะฒะธัะธะผะพััะธ ะพั ัะตะณะธะพะฝะฐ
"""

from __future__ import annotations
import logging
import time
import random
import requests
import pendulum
from typing import Any, Dict, Optional, List

# โโโโโโโโโโโโโโโโโโโโโโโโ ะะพะผะฟะฐั, ะพะฑะปะฐะบะฐ, ะฒะตัะตั โโโโโโโโโโโโโโโโโโโโโโโโโโ

COMPASS = [
    "ะก",   # ะกะตะฒะตั
    "ะกะกะ", # ะกะตะฒะตัะพ-ัะตะฒะตัะพ-ะฒะพััะพะบ
    "ะกะ",  # ะกะตะฒะตัะพ-ะฒะพััะพะบ
    "ะะกะ", # ะะพััะพะบ-ัะตะฒะตัะพ-ะฒะพััะพะบ
    "ะ",   # ะะพััะพะบ
    "ะะฎะ", # ะะพััะพะบ-ัะณะพ-ะฒะพััะพะบ
    "ะฎะ",  # ะฎะณะพ-ะฒะพััะพะบ
    "ะฎะฎะ", # ะฎะณะพ-ัะณะพ-ะฒะพััะพะบ
    "ะฎ",   # ะฎะณ
    "ะฎะฎะ", # ะฎะณะพ-ัะณะพ-ะทะฐะฟะฐะด
    "ะฎะ",  # ะฎะณะพ-ะทะฐะฟะฐะด
    "ะะฎะ", # ะะฐะฟะฐะด-ัะณะพ-ะทะฐะฟะฐะด
    "ะ",   # ะะฐะฟะฐะด
    "ะะกะ", # ะะฐะฟะฐะด-ัะตะฒะตัะพ-ะทะฐะฟะฐะด
    "ะกะ",  # ะกะตะฒะตัะพ-ะทะฐะฟะฐะด
    "ะกะกะ", # ะกะตะฒะตัะพ-ัะตะฒะตัะพ-ะทะฐะฟะฐะด
]

def compass(deg: float) -> str:
    """
    ะะพะทะฒัะฐัะฐะตั ะพะดะฝั ะธะท 16 ััะพัะพะฝ ัะฒะตัะฐ ะฟะพ ัะณะปั deg (0โ360).
    """
    return COMPASS[int((deg / 22.5) + 0.5) % 16]

def clouds_word(pc: int) -> str:
    """
    ะะพะทะฒัะฐัะฐะตั ัะปะพะฒะพ ะฟะพ ะฟัะพัะตะฝัั ะพะฑะปะฐัะฝะพััะธ:
      <25% โ ยซััะฝะพยป
      <70% โ ยซะฟะตัะตะผะตะฝะฝะฐัยป
      ะธะฝะฐัะต โ ยซะฟะฐัะผััะฝะพยป
    """
    if pc < 25:
        return "ััะฝะพ"
    if pc < 70:
        return "ะฟะตัะตะผะตะฝะฝะฐั"
    return "ะฟะฐัะผััะฝะพ"

def wind_phrase(km_h: float) -> str:
    """
    ะะพะทะฒัะฐัะฐะตั ััะฐะทั ะฟะพ ัะบะพัะพััะธ ะฒะตััะฐ (ะบะผ/ั):
      < 2 โ ยซััะธะปัยป
      < 8 โ ยซัะปะฐะฑัะนยป
      <14 โ ยซัะผะตัะตะฝะฝัะนยป
      ะธะฝะฐัะต โ ยซัะธะปัะฝัะนยป
    """
    if km_h < 2:
        return "ััะธะปั"
    if km_h < 8:
        return "ัะปะฐะฑัะน"
    if km_h < 14:
        return "ัะผะตัะตะฝะฝัะน"
    return "ัะธะปัะฝัะน"

def safe(v: Any, unit: str = "") -> str:
    """
    None / 'None' / 'โ' โ ยซโยป
    ะงะธัะปะพ โ ัะพัะผะฐัะธัะพะฒะฐะฝะฝะฐั ัััะพะบะฐ ั ะตะดะธะฝะธัะตะน:
      safe(5.237, "ยฐC") โ ยซ5.2ยฐCยป
      safe("10", "ะผะผ") โ ยซ10ะผะผยป
    """
    if v in (None, "None", "โ"):
        return "โ"
    return f"{v:.1f}{unit}" if isinstance(v, (int, float)) else f"{v}{unit}"


# โโโโโโโโโโโโโโโโโโโโโโโโ AQI & PM ัะฐัะบัะฐัะบะฐ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

def aqi_color(aqi: int | float | str) -> str:
    """
    ะะพะทะฒัะฐัะฐะตั ัะผะพะดะทะธ ััะพะฒะฝั AQI:
      โค50   โ ๐ข
      โค100  โ ๐ก
      โค150  โ ๐
      โค200  โ ๐ด
      โค300  โ ๐ฃ
      >300  โ ๐ค
      ยซโยป/ยซะฝ/ะดยป โ โช
    """
    if aqi in ("โ", "ะฝ/ะด"):
        return "โช"
    aqi = float(aqi)
    if aqi <= 50:
        return "๐ข"
    if aqi <= 100:
        return "๐ก"
    if aqi <= 150:
        return "๐"
    if aqi <= 200:
        return "๐ด"
    if aqi <= 300:
        return "๐ฃ"
    return "๐ค"

def pm_color(pm: Optional[float | int | str], with_unit: bool = False) -> str:
    """
    ะััััะฐั ัะฒะตัะพะฒะฐั ะธะฝะดะธะบะฐัะธั ะบะพะฝัะตะฝััะฐัะธะน PMโ.โ / PMโโ:
      โค12   โ ๐ข
      โค35   โ ๐ก
      โค55   โ ๐
      โค150  โ ๐ด
      โค250  โ ๐ฃ
      >250  โ ๐ค
      None/ยซโยป/ยซะฝ/ะดยป โ โช ะฝ/ะด

    ะัะปะธ with_unit=True, ะบ ัะธัะปั ะดะพะฑะฐะฒะธั ยซ ยตg/ะผยณยป.
    """
    if pm in (None, "โ", "ะฝ/ะด"):
        return "โช ะฝ/ะด"
    try:
        val = float(pm)
    except (TypeError, ValueError):
        return "โช ะฝ/ะด"

    if val <= 12:
        col = "๐ข"
    elif val <= 35:
        col = "๐ก"
    elif val <= 55:
        col = "๐"
    elif val <= 150:
        col = "๐ด"
    elif val <= 250:
        col = "๐ฃ"
    else:
        col = "๐ค"

    txt = str(int(round(val)))
    if with_unit:
        txt += " ยตg/ะผยณ"
    return f"{col}{txt}"


# โโโโโโโโโโโโโโโโโโโโโโโโ ยซะคะฐะบั ะดะฝัยป ะฟะพ ัะตะณะธะพะฝั โโโโโโโโโโโโโโโโโโโโโโโโโโโโ

# 1) ะคะฐะบัั ะดะปั ะะฐะปะธะฝะธะฝะณัะฐะดัะบะพะน ะพะฑะปะฐััะธ ะฟัะธะฒัะทะฐะฝั ะบ ะดะฐัะต "MM-DD"
FACTS_KLGD: Dict[str, str] = {
    # ะฏะฝะฒะฐัั
    "01-01": "1 ัะฝะฒะฐัั โ ะะพะฒัะน ะณะพะด: ะะฐะปะธะฝะธะฝะณัะฐะด ัะธัะตั ะณะธัะปัะฝะดะฐะผะธ, ะฐ ะฝะฐ ะะฐะปัะธะบะต ะฟััั ะณะปะธะฝัะฒะตะนะฝ ๐๐ท",
    "01-07": "7 ัะฝะฒะฐัั โ ะะพะถะดะตััะฒะพ: ะฒ ััะฐะผะฐั ะะฐะปะธะฝะธะฝะณัะฐะดะฐ ะทะฒััะฐั ะบะพะปะพะบะพะปะฐ, ะฐ ะดะพะผะฐ ะณะพัะพะฒัั ะบะปะพะฟัั ๐๐ฒ",
    "01-14": "14 ัะฝะฒะฐัั โ ะกัะฐััะน ะะพะฒัะน ะณะพะด: ะฒ ะฏะฝัะฐัะฝะพะผ ะฒัะฟะพะผะธะฝะฐัั ะฟััััะบะธะต ััะฐะดะธัะธะธ ะธ ะฟะตะบัั ะฟะธัะพะณะธ ๐ฅง",
    "01-25": "25 ัะฝะฒะฐัั โ ะะตะฝั ะพัะฝะพะฒะฐะฝะธั ะัะฝะธะณัะฑะตัะณะฐ (1255): ะพัะผะตัะฐะตะผ ะฟััััะบะพะต ะฝะฐัะปะตะดะธะต ะฒ ััะฐัะพะผ ะณะพัะพะดะต ๐ฐ",

    # ะคะตะฒัะฐะปั
    "02-03": "3 ัะตะฒัะฐะปั โ ะะตะฝั ัะฝัะฐัะฝัั ััะพัะผะพะฒ: ะฝะฐ ะะฐะปัะธะนัะบะพะน ะบะพัะต ะปะพะฒัั ัะฝัะฐัั ะฟะพัะปะต ััะพัะผะฐ ๐ชถ๐",
    "02-14": "14 ัะตะฒัะฐะปั โ ะะตะฝั ัะฒััะพะณะพ ะะฐะปะตะฝัะธะฝะฐ: ะฒ ะะฐะปะธะฝะธะฝะณัะฐะดะต ะดะฐััั ัะฝัะฐัะฝัะต ัะตัะดัะฐ ๐",
    "02-23": "23 ัะตะฒัะฐะปั โ ะะตะฝั ะทะฐัะธัะฝะธะบะฐ ะัะตัะตััะฒะฐ: ะฟะฐัะฐะดั ะธ ัะฐะปััั ะฝะฐะด ะััััะบะพะน ะบะพัะพะน ๐๏ธ",

    # ะะฐัั
    "03-01": "1 ะผะฐััะฐ โ ะะฐัะปะตะฝะธัะฐ: ะฒ ะกะฒะตัะปะพะณะพััะบะต ะฟะตะบัั ะฑะปะธะฝั ะธ ัะถะธะณะฐัั ัััะตะปะพ, ะบะฐะบ ะฒ ัะทััะตัะบะธะต ะฒัะตะผะตะฝะฐ ๐ฅ๐ฅ",
    "03-08": "8 ะผะฐััะฐ โ ะะตะถะดัะฝะฐัะพะดะฝัะน ะถะตะฝัะบะธะน ะดะตะฝั: ัะฒะตัั ะธ ะฟะพะทะดัะฐะฒะปะตะฝะธั ะดะปั ะฒัะตั ะดะฐะผ ๐ธ",
    "03-18": "18 ะผะฐััะฐ โ ะะตะฝั ะฒะพััะพะตะดะธะฝะตะฝะธั ะััะผะฐ ะธ ะฟัะฐะทะดะฝะพะฒะฐะฝะธะต: ะถะธัะตะปะธ ะะฐะปะธะฝะธะฝะณัะฐะดะฐ ัะฐะบะถะต ะพัะผะตัะฐัั ๐ท๐บ",
    "03-25": "25 ะผะฐััะฐ โ ะะตะฝั ะฟัะพะฑัะถะดะตะฝะธั ะฟัะธัะพะดั: ะฟะตัะฒะพัะฒะตัั ะฝะฐ ะััััะบะพะน ะบะพัะต ัะฐัะฟััะบะฐัััั ะฟะตัะฒัะผะธ ๐ฑ",

    # ะะฟัะตะปั
    "04-01": "1 ะฐะฟัะตะปั โ ะฎะผะพัะฝัะน ะดะตะฝั: ะฒ ะบะฐะปะธะฝะธะฝะณัะฐะดัะบะธั ัะบะพะปะฐั ััััั ะธ ะฒัะฟััะบะฐัั ัะตะผะฐัะธัะตัะบะธะต ะณะฐะทะตัั ๐คก",
    "04-12": "12 ะฐะฟัะตะปั โ ะะตะฝั ะบะพัะผะพะฝะฐะฒัะธะบะธ: ะปะตะบัะธะธ ะพ ะะฐะณะฐัะธะฝะต ะธ ะทะฐะฟััะบ ัะตะนะตัะฒะตัะบะพะฒ ะฒ ะฟะฐัะบะฐั ๐โจ",
    "04-22": "22 ะฐะฟัะตะปั โ ะะตะฝั ะะตะผะปะธ: ััะฑะฑะพัะฝะธะบะธ ะฝะฐ ะััััะบะพะน ะบะพัะต ะธ ะฟะพัะฐะดะบะฐ ะดะตัะตะฒัะตะฒ ๐๐ณ",
    "04-30": "30 ะฐะฟัะตะปั โ ะัะฐะทะดะฝะธะบ ัะฝัะฐัั: ะฒัััะฐะฒะบะธ ะผะตััะฝัั ะผะฐััะตัะพะฒ ะธ ััะผะฐัะบะธ ะฝะฐ ะัะฑะฝะพะน ะดะตัะตะฒะฝะต ๐ชถ๐จ",

    # ะะฐะน
    "05-01": "1 ะผะฐั โ ะัะฐะทะดะฝะธะบ ะะตัะฝั ะธ ะขััะดะฐ: ะฟะฐัะฐะดั, ัะตััะธะฒะฐะปะธ ะธ ะบะพะฝัะตััั ะฟะพ ะฒัะตะผั ะณะพัะพะดั ๐ถ๐ท",
    "05-08": "8 ะผะฐั โ ะะตะฝั ะฟะฐะผััะธ ะธ ัะบะพัะฑะธ: ะฒะพะทะปะพะถะตะฝะธั ะฒะตะฝะบะพะฒ ั ะผะตะผะพัะธะฐะปะพะฒ ะฒะตัะตัะฐะฝะพะฒ ๐ฅ๐",
    "05-14": "14 ะผะฐั โ ะะตะฝั ัะตะผัะธ: ะฐะบัะธะธ ะฒ ะทะพะพะฟะฐัะบะต ะธ ะฑะตัะฟะปะฐัะฝัะต ะฟัะพะณัะปะบะธ ะฟะพ ะบัะฐัะพัะต ะะตะปะตะฝะพะณัะฐะดัะบะฐ ๐ฆ๐ผ",
    "05-28": "28 ะผะฐั โ ะะตะฝั ะััััะบะพะน ะบะพัั: ัะตััะธะฒะฐะปั ะดัะฝ ะธ ัะบะพะปะพะณะธัะตัะบะธะต ะผะตัะพะฟัะธััะธั ะฝะฐ ะฟะพะฑะตัะตะถัะต ๐พ๐๏ธ",

    # ะัะฝั
    "06-03": "3 ะธัะฝั โ ะะตะฝั ััะฐะฝัะฟะพััะฐ: ะพัะบััััะต ัะบัะบัััะธะธ ะฟะพ ะฐััะพะฟะพััั ะฅัะฐะฑัะพะฒะพ ะธ ะฒัััะตัะฐ ัะตััะพ-ัะฐะผะพะปััะพะฒ ๐ซโ๏ธ",
    "06-12": "12 ะธัะฝั โ ะะตะฝั ะะพััะธะธ: ะบะพะฝัะตััั ะฝะฐ ัะตะฝััะฐะปัะฝัั ะฟะปะพัะฐะดัั ะธ ะผะฐััะพะฒัะต ะณัะปัะฝัั ๐ท๐บ๐",
    "06-20": "20 ะธัะฝั โ ะะตะฝั ะะฐะปัะธะนัะบะพะน ัะฒะตัะดะธ: ะธััะปะตะดะพะฒะฐะฝะธั ะผะพััะบะพะน ัะฐัะฝั ะธ ัะบะพะปะพะณะธัะตัะบะธะต ะปะตะบัะธะธ ๐๐ฌ",
    "06-28": "28 ะธัะฝั โ ะคะตััะธะฒะฐะปั ะณะธะผะฝะฐััะธะบะธ: ะฒััััะฟะปะตะฝะธั ัะฝัั ัะฟะพัััะผะตะฝะพะฒ ะฝะฐ ััะฐะดะธะพะฝะต ะะฐะปะธะฝะธะฝะณัะฐะด ๐ฃ๐คธโโ๏ธ",

    # ะัะปั
    "07-01": "1 ะธัะปั โ ะะตะฝั ะถะตะปะตะทะฝะพะดะพัะพะถะฝะธะบะฐ: ะฟะฐัะฐะดั ะฟะพะตะทะดะพะฒ, ัะบัะบัััะธะธ ะฟะพ ะฒะพะบะทะฐะปั ะธ ะฑะตัะฟะปะฐัะฝัะต ะฑะธะปะตัั ๐๐ซ",
    "07-07": "7 ะธัะปั โ ะัะฐะทะดะฝะธะบ ะะฒะฐะฝะฐ ะัะฟะฐะปั: ะบะพัััั, ะฝะฐัะพะดะฝัะต ะณัะปัะฝะธั ะธ ะฟััะถะบะธ ัะตัะตะท ะบะพััะตั ๐๐ฅ",
    "07-19": "19 ะธัะปั โ ะะตะฝั ััะฑะฐะบะฐ: ัะพัะตะฒะฝะพะฒะฐะฝะธั ะฟะพ ััะฑะฐะปะบะต ะฝะฐ ะะฐะปัะธะนัะบะต ะธ ััะผะฐัะบะธ ๐๐ฃ",
    "07-30": "30 ะธัะปั โ ะะตะฝั ะณะพัะพะดัะบะพะณะพ ััะฐะฝัะฟะพััะฐ: ัะตััะพ-ััะฐะผะฒะฐะธ ะธ ัะบัะบัััะธะธ ะฟะพ ะธััะพัะธัะตัะบะพะผั ะผะฐัััััั ๐๐๏ธ",

    # ะะฒะณััั
    "08-01": "1 ะฐะฒะณัััะฐ โ ะะตะฝั ัะฝัะฐััะธะบะฐ: ะผะฐััะตั-ะบะปะฐััั ะฟะพ ะพะฑัะฐะฑะพัะบะต ัะฝัะฐัั ะธ ะฒัััะฐะฒะบะธ ะปัััะธั ัะฒะตะปะธัะพะฒ ๐ชถ๐",
    "08-15": "15 ะฐะฒะณัััะฐ โ ะะตะฝั ะบััะพััะพะฒ: ัะบะธะดะบะธ ะฝะฐ ะฟะปัะถะฐั, ะบะพะฝัะตััั ะฒ ะกะฒะตัะปะพะณะพััะบะต ะธ ะะตะปะตะฝะพะณัะฐะดัะบะต ๐๏ธ๐ถ",
    "08-22": "22 ะฐะฒะณัััะฐ โ ะะตะฝั ะฟะฐะผััะธ ะถะตััะฒ ะฒะพะนะฝั: ััะฐััะฝัะต ะผะธัะธะฝะณะธ ะธ ะฒะพะทะปะพะถะตะฝะธั ัะฒะตัะพะฒ ั ะฟะฐะผััะฝะธะบะพะฒ ๐๏ธ๐น",
    "08-30": "30 ะฐะฒะณัััะฐ โ ะคะตััะธะฒะฐะปั ัะปะธัะฝะพะน ะตะดั: ะณะฐัััะพะฝะพะผะธัะตัะบะธะต ัะตััะธะฒะฐะปะธ ะฒะพ ะฒัะตั ะฟะฐัะบะฐั ะณะพัะพะดะฐ ๐๐",

    # ะกะตะฝััะฑัั
    "09-01": "1 ัะตะฝััะฑัั โ ะะตะฝั ะทะฝะฐะฝะธะน: ัะบะพะปัะฝัะต ะปะธะฝะตะนะบะธ ะธ ะฟะตัะฒัะต ะทะฒะพะฝะบะธ ะทะฐ ััะตะฑะฝัะน ะณะพะด ๐๐",
    "09-10": "10 ัะตะฝััะฑัั โ ะฏะฑะปะพัะฝัะน ะกะฟะฐั: ััะผะฐัะบะธ ัะฑะปะพะบ ะธ ะฒัััะฐะฒะบะธ ะผะตะดะพะฒััะธ ะฒ ัะฐะนะพะฝะฐั ๐๐ฏ",
    "09-19": "19 ัะตะฝััะฑัั โ ะะตะฝั ะฟัะธะฑัะตะถะฝะพะณะพ ะทะฐะฟะพะฒะตะดะฝะธะบะฐ: ัะบัะบัััะธะธ ะฟะพ ะะพัะดะฐัะต ะธ ะััััะบะพะน ะบะพัะต ๐ฆข๐๏ธ",
    "09-30": "30 ัะตะฝััะฑัั โ ะะตะฝั ะฒะพะตะฝะฝะพ-ะผะพััะบะพะณะพ ัะปะพัะฐ: ะฟะฐัะฐะดั ะบะพัะฐะฑะปะตะน ะฒ ะะฐะปัะธะนัะบะต ะธ ะฟัะฐะทะดะฝะธัะฝัะต ัะฐะปััั โ๐",

    # ะะบััะฑัั
    "10-04": "4 ะพะบััะฑัั โ ะะตะฝั ะทะฐัะธัะฝะธะบะฐ ะัะธัะพะดั: ััะฑะฑะพัะฝะธะบะธ ะฒ ะปะตัะพะฟะฐัะบะฐั ะธ ะฐะบัะธะธ ะฟะพ ัะฑะพัั ะผััะพัะฐ ๐ฒโป๏ธ",
    "10-14": "14 ะพะบััะฑัั โ ะัะฐะทะดะฝะธะบ ะฐััะธัะตะบัััั: ัะบัะบัััะธะธ ะฟะพ ััะฐัะพะผั ะัะฝะธะณัะฑะตัะณั ะธ ะฒัััะฐะฒะบะธ ัะตััะฐะฒัะฐัะพัะพะฒ ๐๏ธ๐ผ๏ธ",
    "10-24": "24 ะพะบััะฑัั โ ะะตะฝั ัะปะตะฑะฐ: ััะผะฐัะบะธ ะฒัะฟะตัะบะธ ะธ ะผะฐััะตั-ะบะปะฐััั ะฒ ะณะฐัััะพะฝะพะผะธัะตัะบะธั ะปะฐะฒะบะฐั ๐๐ฅ",
    "10-30": "30 ะพะบััะฑัั โ ะฅัะปะปะพัะธะฝ: ะผะธััะธัะตัะบะธะต ัะบัะบัััะธะธ ะฟะพ ััะฐััะผ ะฟะพะดะทะตะผะตะปััะผ ะะฐะปะธะฝะธะฝะณัะฐะดะฐ ๐๐ป",

    # ะะพัะฑัั
    "11-04": "4 ะฝะพัะฑัั โ ะะตะฝั ะฝะฐัะพะดะฝะพะณะพ ะตะดะธะฝััะฒะฐ: ะดะตะผะพะฝัััะฐัะธะธ ะธ ะฟัะฐะทะดะฝะธัะฝัะต ะผะตัะพะฟัะธััะธั ะฝะฐ ะฟะปะพัะฐะดะธ ะะพะฑะตะดั ๐ท๐บ๐ค",
    "11-11": "11 ะฝะพัะฑัั โ ะะตะฝั ะฑะฐะปัะธะนัะบะพะน ะบะพัะปะตัะบะธ: ะดะตะณัััะฐัะธะธ ัะธัะผะตะฝะฝะพะณะพ ะฑะปัะดะฐ ะฒ ะปัััะธั ะบะฐัะต ะณะพัะพะดะฐ ๐ฝ๏ธ๐",
    "11-20": "20 ะฝะพัะฑัั โ ะะตะฝั ัััะดะตะฝัะฐ: ัััะดะตะฝัะตัะบะฐั ะณะฐะทะตัะฐ, ะฒะตัะตัะธะฝะบะธ ะธ ะบะพะฝัะตััั ะฒ ะบะปัะฑะฐั ๐๐",
    "11-29": "29 ะฝะพัะฑัั โ ะะตะฝั ะถะตะปะตะทะฝะพะดะพัะพะถะฝะธะบะฐ (ะฒัะพัะพะต ััะตะฝะธะต): ะฟะฐัะฐะดั ะปะพะบะพะผะพัะธะฒะพะฒ ะธ ะฒัััะฐะฒะบะธ ะผะพะดะตะปะตะน ๐๐ธ",

    # ะะตะบะฐะฑัั
    "12-01": "1 ะดะตะบะฐะฑัั โ ะะตะฝั ะะฐะปัะธะนัะบะพะณะพ ัะปะพัะฐ: ะฒ ะะฐะปัะธะนัะบะต ัะตััะฒััั ะผะพััะบะพะฒ โ",
    "12-12": "12 ะดะตะบะฐะฑัั โ ะะตะฝั ะะพะฝััะธัััะธะธ: ะฒ ะะฐะปะธะฝะธะฝะณัะฐะดะต ะฒัะฟะพะผะธะฝะฐัั ะธััะพัะธั ัะตะณะธะพะฝะฐ ๐",
    "12-22": "22 ะดะตะบะฐะฑัั โ ะะธะผะฝะตะต ัะพะปะฝัะตััะพัะฝะธะต: ัะทััะตัะบะธะน ะฟัะฐะทะดะฝะธะบ ั ะบะพัััะฐะผะธ ะฒ ะฏะฝัะฐัะฝะพะผ ๐ฅโ๏ธ",
    "12-31": "31 ะดะตะบะฐะฑัั โ ะะฐะฝัะฝ ะะพะฒะพะณะพ ะณะพะดะฐ: ะะฐะปะธะฝะธะฝะณัะฐะด ัะธัะตั, ะฐ ะฝะฐ ะบะพัะต ะฟััั ัะฐะผะฟะฐะฝัะบะพะต ๐ฅ",
}

# 1.b) ะัะปะธ ะดะฐัะฐ ะฝะต ะฝะฐะนะดะตะฝะฐ ะฒ FACTS_KLGD, ะฒัะฑะธัะฐะตะผ ัะปััะฐะนะฝัะน ัะฐะบั
FACTS_KLGD_RANDOM: List[str] = [
    "ะะฐะปะธะฝะธะฝะณัะฐะด โ ะตะดะธะฝััะฒะตะฝะฝัะน ัะตะณะธะพะฝ ะะพััะธะธ ะฑะตะท ัััะพะฟััะฝะพะน ะณัะฐะฝะธัั ั ะพััะฐะปัะฝะพะน ัััะฐะฝะพะน ๐บ๏ธ",
    "ะััััะบะฐั ะบะพัะฐ โ ะพะฑัะตะบั ะัะตะผะธัะฝะพะณะพ ะฝะฐัะปะตะดะธั ะฎะะะกะะ, ะณะดะต ัะฐะฝัััั ะดัะฝั ๐พ",
    "ะะฐะปะธะฝะธะฝะณัะฐะดัะบะธะน ัะฝัะฐัั ะฝะฐะทัะฒะฐัั 'ัะพะปะฝะตัะฝัะผ ะบะฐะผะฝะตะผ' ะทะฐ ะตะณะพ ัะตะฟะปัะน ัะฒะตั ๐ชถ",
    "ะ ะะฐะปะธะฝะธะฝะณัะฐะดะต ัะพััะฐะฝะธะปะธัั ะฟััััะบะธะต ัะพััั ะธ ะฒะพัะพัะฐ ะัะฝะธะณัะฑะตัะณะฐ ๐ฐ",
    "ะะฐะปัะธะนัะบะพะต ะผะพัะต ะฒัะฑัะฐััะฒะฐะตั ัะฝัะฐัั ะฟะพัะปะต ััะพัะผะพะฒ โ ะฝะฐััะพััะธะน ะบะปะฐะด! ๐๐ชถ",
    "ะะฐะปะธะฝะธะฝะณัะฐะดัะบะธะน ะบะปะพะฟั โ ััะฐะดะธัะธะพะฝะฝะพะต ะฑะปัะดะพ ั ะฟััััะบะธะผะธ ะบะพัะฝัะผะธ ๐ฒ",
]

# 2) ะกะปะพะฒะฐัั ะดะฐั ยซMM-DDยป โ ัะพะฑััะธะต/ัะฐะบั ะดะปั ะะธะฟัะฐ
FACTS_CY: Dict[str, str] = {
    "01-03": "3 ัะฝะฒะฐัั โ ะคะตััะธะฒะฐะปั ะณัะฐะฝะฐัะพะฒ ะฒ ะัะผะธะดะธะธ: ะดะตะณัััะฐัะธะธ ะธ ัะฐะฝัั ะฟะพะด ะทะฒะตะทะดะฐะผะธ, ะฐ ะฒ 1960 ะณะพะดั ะะธะฟั ััะฐะป ัะตัะฟัะฑะปะธะบะพะน ๐",
    "01-07": "7 ัะฝะฒะฐัั โ ะะตะฝั ัะฒััะพะณะพ ะะพะฐะฝะฝะฐ ะัะตััะธัะตะปั: ัะปัะถะฑั ะฒ ะผะพะฝะฐัััััั ะธ ะฟะธัะพะณะธ ั ะพะปะธะฒะบะฐะผะธ, ะฐ ะพะปะธะฒะบะพะฒัะต ัะพัะธ ะฝะฐัะธะฝะฐัั ัะฒะตััะธ ๐ฅ๐ณ",
    "01-20": "20 ัะฝะฒะฐัั โ ะะตะฝั ัะฒััะพะณะพ ะะตะพัะธัะฐ: ะฟะฐะปะพะผะฝะธัะตััะฒะฐ ะบ ะฟะตัะตัะฝะพะผั ะผะพะฝะฐััััั ะฒ ะะฐัะพัะต ะธ ัะฑะพั ะฟะตัะฒะพะณะพ ะผะธะฝะดะฐะปั ๐ฐ",
    "02-03": "3 ัะตะฒัะฐะปั โ ะคะตััะธะฒะฐะปั ะฐะฟะตะปััะธะฝะพะฒ ะฒ ะะตัะบะฐัะต: ััะผะฐัะบะธ ั ัะธััััะพะฒัะผะธ ะธ ะฒััะธะฒะบะพะน, ะฐ ัะปะฐะผะธะฝะณะพ ะฟัะธะปะตัะฐัั ะฒ ะะฐัะฝะฐะบัะบะพะต ะพะทะตัะพ ๐ฆฉ",
    "02-25": "25 ัะตะฒัะฐะปั โ ะงะธัััะน ะฟะพะฝะตะดะตะปัะฝะธะบ (ะะฐัะฐะบะปะธะทะผะพั): ะฝะฐัะพะด ะพัะผะตัะฐะตั ะฟัะฐะทะดะฝะธะบ ะฒะพะด ะธ ะฒะตัะฝั, ะฐ ะฒ 1974 ะณะพะดั ะฝะฐัะฐะปะธัั ะผะธัะพัะฒะพััะตัะบะธะต ะฟะตัะตะณะพะฒะพัั ๐๐๏ธ",
    "03-03": "3 ะผะฐััะฐ โ ะคะตััะธะฒะฐะปั ัะฒะตัะพะฒ ะฒ ะะปะฐััะตัะต: ะณะพัั ะขัะพะพะดะพัะฐ ััะพะฟะฐัั ะฒ ัะฒะตัะฐั, ะฐ ะฒ 1878 ะณะพะดั ะะธะฟั ะฟะตัะตัะตะป ะฟะพะด ะฑัะธัะฐะฝัะบะพะต ัะฟัะฐะฒะปะตะฝะธะต ๐ธ๐",
    "03-20": "20 ะผะฐััะฐ โ ะะตัะตะฝะฝะตะต ัะฐะฒะฝะพะดะตะฝััะฒะธะต: ะบะธะฟััะบะธะต ะฟะพะปั ะฟะพะบััะฒะฐัััั ะผะฐะบะฐะผะธ, ะฐ ะฒ ะะธะผะฐััะพะปะต ััะฐััััั ะฒะธะฝะฝัะต ัััั ๐บ๐ท",
    "04-02": "2 ะฐะฟัะตะปั โ ะะตะฝั ะบะธะฟััะบะธั ัะตะผะตัะตะป ะฒ ะะตัะบะฐัะต: ะผะฐััะตั-ะบะปะฐััั ะฟะพ ะบััะถะตะฒั ะธ ัะตัะตะฑัั, ะฐ ะฒ 1191 ะณะพะดั ะะธัะฐัะด ะัะฒะธะฝะพะต ะกะตัะดัะต ะทะฐัะฒะฐัะธะป ะะธะฟั โ๏ธ",
    "04-20": "20 ะฐะฟัะตะปั โ ะะฐััะฐะปัะฝะฐั ะฝะตะดะตะปั ะฝะฐัะธะฝะฐะตััั: ะฒ ะดะตัะตะฒะฝะต ะะฐะปะฐะฒะฐัะพั ะฟะตะบัั ัะปะฐัะฝั, ะฐ ัะตัะตะฟะฐัะธ ะฒััะพะดัั ะฝะฐ ะฟะปัะถะธ ะะฐัั ๐ข",
    "05-06": "6 ะผะฐั โ ะคะตััะธะฒะฐะปั ัะพะท ะฒ ะะณัะพัะต: ะดะตัะตะฒะฝั ััะพะฟะฐะตั ะฒ ัะพะทะพะฒัั ะปะตะฟะตััะบะฐั, ะฐ ะฒ 2004 ะณะพะดั ะะธะฟั ััะฐะป ัะปะตะฝะพะผ ะะก ๐ฏ๐ช๐บ",
    "05-11": "11 ะผะฐั โ ะะตะฝั ะผะพััะบะพะณะพ ะฑัะธะทะฐ ะธ ัะตัะตัะฝะธ: ะฒ ะะธัะตะฝะธะธ ัะพะฑะธัะฐัั ะฟะตัะฒัะน ััะพะถะฐะน ัะตัะตัะฝะธ ๐๐ฌ๏ธ",
    "06-02": "2 ะธัะฝั โ ะคะตััะธะฒะฐะปั ะผะตะดะฐ ะฒ ะะธะผะฐััะพะปะต: ะดะตะณัััะฐัะธะธ ะผะตะดะฐ ะธ ัะปะฐะดะพััะตะน, ะฐ ะฒ 2004 ะณะพะดั ะะธะฟั ััะฐะป ัะปะตะฝะพะผ ะะก ๐ฏ๐ช๐บ",
    "06-20": "20 ะธัะฝั โ ะคะตััะธะฒะฐะปั ะปะฐะฒะฐะฝะดั ะฒ ะะปะฐััะตัะต: ะฟะพะปั ะขัะพะพะดะพัะฐ ะฟะฐัะฝัั ะปะฐะฒะฐะฝะดะพะน, ะฐ ะฒ 1571 ะณะพะดั ะะธะฟั ะฟะตัะตัะตะป ะบ ะัะผะฐะฝะฐะผ ๐ฟ๐",
    "07-02": "2 ะธัะปั โ ะะตะฝั ัะฒััะพะณะพ ะัะพะบะพะฟะธั: ะฒ ะดะตัะตะฒะฝะต ะะธััััะธ ะฟะตะบัั ะปะตะฟะตัะบะธ ะธ ะพัะผะตัะฐัั ัะฑะพั ะธะฝะถะธัะฐ ๐",
    "07-20": "20 ะธัะปั โ ะะฐ ะะธะฟัะต ัะพะฑะธัะฐัั ะฟะตัะฒัะน ััะพะถะฐะน ะฒะธะฝะพะณัะฐะดะฐ, ะฐ ะฒ 1974 ะณะพะดั ะฝะฐัะฐะปะฐัั ัััะตัะบะฐั ะธะฝัะตัะฒะตะฝัะธั ๐โ๏ธ",
    "08-02": "2 ะฐะฒะณัััะฐ โ ะคะตััะธะฒะฐะปั ะพะปะธะฒะพะบ ะฒ ะะธะปะฐะฝะธ: ััะผะฐัะบะธ ะธ ัะฐะฝัั, ะฐ ะพะปะธะฒะบะพะฒัะต ัะพัะธ ะฒ ัะฐะทะณะฐัะต ะฟะปะพะดะพะฝะพัะตะฝะธั ๐ซ",
    "08-20": "20 ะฐะฒะณัััะฐ โ ะะตะฝั ัะฒััะพะณะพ ะกัะตัะฐะฝะฐ: ะฒ ะะฐัะฝะฐะบะต ัะบัะฐัะฐัั ะปะพะดะบะธ, ะฐ ะฒ 1960 ะณะพะดั ะะธะฟั ะฟัะพะฒะพะทะณะปะฐัะธะป ะฝะตะทะฐะฒะธัะธะผะพััั ๐ค๐จ๐พ",
    "09-02": "2 ัะตะฝััะฑัั โ ะคะตััะธะฒะฐะปั ะฒะธะฝะพะณัะฐะดะฐ ะฒ ะะฐะฝะธั: ะดะตะณัััะฐัะธะธ ะฒะธะฝะฐ ะธ ัะฐะฝัั, ะฐ ะฒ 1974 ะณะพะดั ะทะฐะฒะตััะธะปะฐัั ะฐะบัะธะฒะฝะฐั ัะฐะทะฐ ะบะพะฝัะปะธะบัะฐ ๐๐๏ธ",
    "09-15": "15 ัะตะฝััะฑัั โ ะะตะฝั ะฐััะตะพะปะพะณะธะธ: ะฒ ะะฐัะพัะต ะพัะบัััั ัะฐัะบะพะฟะบะธ, ะฐ ะผะธะฝะดะฐะปัะฝัะต ัะพัะธ ะณะพัะพะฒัััั ะบ ะฝะพะฒะพะผั ัะตะทะพะฝั ๐๏ธ๐ณ",
    "10-02": "2 ะพะบััะฑัั โ ะคะตััะธะฒะฐะปั ัะปะตะฑะฐ ะฒ ะะฐะบะพะฟะตััะธะธ: ะฟะตะบัั ะดะตัะตะฒะตะฝัะบะธะน ัะปะตะฑ, ะฐ ะฒ 1878 ะณะพะดั ะฑัะธัะฐะฝัั ะฝะฐัะฐะปะธ ัััะพะธัั ะฟะพัั ะะธะผะฐััะพะปะฐ ๐ฅโ",
    "10-10": "10 ะพะบััะฑัั โ ะะตะฝั ัะฒััะพะณะพ ะะฐะฒะปะฐ: ัะปัะถะฑั ะฒ ะะฐัะพัะต, ะฐ ะฒ 1983 ะณะพะดั ะฟัะพะฒะพะทะณะปะฐัะธะปะธ ะขะะกะ ๐๐",
    "10-28": "28 ะพะบััะฑัั โ ะะตะฝั ยซะัะธยป ะธ ัะฑะพัะฐ ะพะปะธะฒะพะบ: ะณัะตัะตัะบะพะต ยซะฝะตัยป ั ะฟะฐัะฐะดะฐะผะธ ะธ ะฝะฐัะฐะปะพ ะพะปะธะฒะบะพะฒะพะณะพ ัะตะทะพะฝะฐ ๐ฌ๐ท๐ซ",
    "11-03": "3 ะฝะพัะฑัั โ ะคะตััะธะฒะฐะปั ะบะฐััะฐะฝะพะฒ ะฒ ะขัะพะพะดะพัะต: ะถะฐััั ะบะฐััะฐะฝั, ะฐ ะฒ 1192 ะณะพะดั ะะธะฟั ััะฐะป ะบะพัะพะปะตะฒััะฒะพะผ ะบัะตััะพะฝะพััะตะฒ ๐ฐโ๏ธ",
    "11-15": "15 ะฝะพัะฑัั โ ะะตะฝั ัะฒััะพะณะพ ะคะธะปะธะฟะฟะฐ: ะฒ ะดะตัะตะฒะฝัั ะฟะตะบัั ะฟะพััะฝัะต ะฟะธัะพะณะธ, ะฐ ะฒ ะะฐัะฝะฐะบะต ัะพะฑะธัะฐัั ะฟะพัะปะตะดะฝะธะต ะฐะฟะตะปััะธะฝั ๐",
    "12-01": "1 ะดะตะบะฐะฑัั โ ะคะตััะธะฒะฐะปั ะทะธะฒะฐะฝั ะฒ ะะผะพะดะพัะต: ะณะพัะพะฒัั ะผััะพ ั ัะธัะพะผ, ะฐ ะฒ 2003 ะณะพะดั ะพัะบััะปะธ ะะะ ะฒ ะะธะบะพัะธะธ ๐ฒ",
    "12-15": "15 ะดะตะบะฐะฑัั โ ะะตะฝั ัะฒััะพะณะพ ะะปะตะฒัะตัะธั: ัะปัะถะฑั ะฒ ัะตัะบะฒัั, ะฐ ัะปะฐะผะธะฝะณะพ ะฒะพะทะฒัะฐัะฐัััั ะฝะฐ ัะพะปะตะฝะพะต ะพะทะตัะพ ๐ฆฉ",
    "01-10": "10 ัะฝะฒะฐัั โ ะะตะฝั ัััะฐะฝะฝะพะณะพ: ะฒ ะะนั-ะะฐะฟะต ััััะฐะธะฒะฐัั ะฝะตะพะฑััะฝัะต ะฒะตัะตัะธะฝะบะธ, ะฐ ะผะพัะต ัะธัะตั ะฑะธะพะปัะผะธะฝะตััะตะฝัะธะตะน ๐โจ",
    "02-20": "20 ัะตะฒัะฐะปั โ ะะตะฝั ะบะธะฟััะบะธั ะบะพัะพะฒ: ะบะพัะธะบะธ ะฒ ะผะพะฝะฐััััะต ะกะฒััะพะณะพ ะะธะบะพะปะฐั ะฟะพะปััะฐัั ัะณะพัะตะฝะธั ๐บ",
    "03-10": "10 ะผะฐััะฐ โ ะะตะฝั ะบะธะฟััะบะธั ะพััะธะดะตะน: ะฒ ะณะพัะฐั ัะฒะตััั ะดะธะบะธะต ะพััะธะดะตะธ, ะฐ ะฒ ะะธะผะฐััะพะปะต ะฟััั ััะฐะฟะฟะต ๐ธโ",
    "04-10": "10 ะฐะฟัะตะปั โ ะะตะฝั ะฑัะฐััะตะฒ ะธ ัะตััะตั: ะฝะฐ ะะธะฟัะต ะดะฐััั ััะฒะปั, ะฐ ะฒ 1489 ะณะพะดั ะะธะฟั ััะฐะป ะฒะตะฝะตัะธะฐะฝัะบะธะผ ๐ฅ๐",
    "05-20": "20 ะผะฐั โ ะัะตะผะธัะฝัะน ะดะตะฝั ะฟัะตะป: ะฒ ะดะตัะตะฒะฝะต ะะตัะฐ ะฟะตะบัั ะผะตะดะพะฒัะต ัะปะฐะดะพััะธ, ะฐ ะฟะพะปั ัะฒะตััั ะผะฐะบะฐะผะธ ๐๐บ",
    "06-10": "10 ะธัะฝั โ ะะตะฝั ะผะพัะพะถะตะฝะพะณะพ: ะฒ ะะฐัะพัะต ะตะดัั ะผะพัะพะถะตะฝะพะต ั ะธะฝะถะธัะพะผ, ะฐ ะผะพัะต ัะตะฟะปะพะต, ะบะฐะบ ััะฟ ๐ฆ๐",
    "07-30": "30 ะธัะปั โ ะะตะฝั ะดััะถะฑั: ะฒ ะะฐัะฝะฐะบะต ะฟััั ะบะพะบัะตะนะปะธ, ะฐ ะฒ 1974 ะณะพะดั ะะะ ะฒะผะตัะฐะปะฐัั ะฒ ะบะธะฟััะบะธะน ะบะพะฝัะปะธะบั ๐น๐๏ธ",
    "08-25": "25 ะฐะฒะณัััะฐ โ ะะตะฝั ะทะฒะตะทะดะพะฟะฐะดะฐ: ะฝะฐ ะฟะปัะถะฐั ะะธะฟัะฐ ัะผะพัััั ะฝะฐ ะะตััะตะธะดั, ะฐ ะฒ ะะผะพะดะพัะต ะฟััั ะฒะธะฝะพ ๐๐ท",
    "09-25": "25 ัะตะฝััะฑัั โ ะะตะฝั ัััะธะทะผะฐ: ะฒ ะะนั-ะะฐะฟะต ััััะฐะธะฒะฐัั ะฒะตัะตัะธะฝะบะธ, ะฐ ะฒ 1960 ะณะพะดั ะพัะบััะปะธ ะฐััะพะฟะพัั ะะฐัะฝะฐะบะธ ๐ซ",
    "10-20": "20 ะพะบััะฑัั โ ะะตะฝั ะบะธะฟััะบะธั ะฟัะธั: ะฒ ะขัะพะพะดะพัะต ะฝะฐะฑะปัะดะฐัั ะทะฐ ะฟะตัะตะปะตัะฝัะผะธ ะฟัะธัะฐะผะธ, ะฐ ะฒ ะะฐัะพัะต ะฟะตะบัั ะฟะธััั ๐ฆ๐ฅ",
    "11-25": "25 ะฝะพัะฑัั โ ะะตะฝั ะฑะตะท ะฟะพะบัะฟะพะบ: ะฝะฐ ะะธะฟัะต ะณัะปััั ะฟะพ ะฝะฐะฑะตัะตะถะฝะพะน ะธ ะตะดัั ัะฐะปะปัะผะธ ะฒะผะตััะพ ัะพะฟะธะฝะณะฐ ๐ง๐",
    "12-20": "20 ะดะตะบะฐะฑัั โ ะะตะฝั ัะฐะฝะณัะธะธ: ะฒ ะะธะบะพัะธะธ ะฟััั ัะฐะฝะณัะธั, ะฐ ะฒ 1974 ะณะพะดั ะฝะฐัะฐะปะธัั ะฟะตัะตะณะพะฒะพัั ะฟะพ ะะธะฟัั ๐ท๐๏ธ",
}

# 2.b) ะัะปะธ ะดะปั ะะธะฟัะฐ ะฝะตั ะทะฐะฟะธัะธ ะฒ FACTS_CY, ะฒัะฑะธัะฐะตะผ ัะปััะฐะนะฝัะน ัะฐะบั ะธะท DEFAULT
DEFAULT_FACTS_CY: List[str] = [
    "ะะฐ ะะธะฟัะต ะฑะพะปะตะต 1 800 ะฒะธะดะพะฒ ัะฐััะตะฝะธะน โ ะฒะตัะฝะฐ ััั ัะฒะตััั ัััะต ะปัะฑะพะณะพ Instagram-ะฟะพััะฐ ๐ธ",
    "ะะฑัะฐั ะดะปะธะฝะฐ ะฟะพะฑะตัะตะถัั ะพัััะพะฒะฐ โ 985 ะบะผ: ัะฒะฐัะธั ะบะฐัะฐัััั ะฝะฐ ะฑะฐะนะบะต ะฟะพ ะฟะปัะถะฐะผ ๐๏ธ",
    "ะะตัะพะผ ะฒะพะดะฐ ะฒ ะกัะตะดะธะทะตะผะฝะพะผ ะผะพัะต ะฟัะพะณัะตะฒะฐะตััั ะดะพ 27 ยฐC โ ะบัะฟะฐัััั ะบะพะผัะพััะฝะพ ะฟะพััะธ ะฒะตัั ะธัะฝัโัะตะฝััะฑัั ๐",
    "ะ ะะธะผะฐััะพะปะต ะพะบะพะปะพ 360 ัะพะปะฝะตัะฝัั ะดะฝะตะน ะฒ ะณะพะดั โ ะฑะตัะธ ัะพะปะฝะตัะฝัะต ะพัะบะธ ะธ ะฒะฟะตััะด โ๏ธ",
    "ะะธะฟั โ ะดะพะผ ะดะปั ัะตััััั ะฒะธะดะพะฒ ะผะพััะบะธั ัะตัะตะฟะฐั: ะพะฝะธ ัะพะถะต ะปัะฑัั ะฟะพะฑะตัะตะถัะต ะฝะฐัะตะน ะปัะฑะธะผะพะน ะฑัััั ๐ข",
    "ะกัะตะดะฝัั ะณะพะดะพะฒะฐั ะฝะพัะผะฐ ะพัะฐะดะบะพะฒ โ ะฒัะตะณะพ 350 ะผะผ; ะทะพะฝั ะทะดะตัั ะทะดะตัั ะฐะบัะตัััะฐั ๐ โ๏ธ",
    "ะะฐ ะพัััะพะฒะต 12 ะฟัะธัะพะดะฝัั ะทะฐะฟะพะฒะตะดะฝะธะบะพะฒ โ ะตัะปะธ ะทะฐัะพัะตัั ัะนัะธ ะฒ ัะธัะธะฝั ะปะตัะพะฒ ๐ฒ",
    "ะะตัะฒะพะต ัะฟะพะผะธะฝะฐะฝะธะต ะะพะตะฒะฐ ะบะพะฒัะตะณะฐ ัะฒัะทะฐะฝะพ ั ะณะพัะฐะผะธ ะะธะฟัะฐ โ ะฝะต ัะดะธะฒะปััั, ะตัะปะธ ัะฐะผ ะจัะผะฐะฝ-ััะผ ะฟัะพััะฟะฐะตััั ัะฐะฝััะต ๐",
    "ะะถะตะณะพะดะฝะพ ะฒ ะผะฐััะตโะฐะฟัะตะปะต ัะฒะตััั ะฑะพะปะตะต 50 000 ะผะธะฝะดะฐะปัะฝัั ะดะตัะตะฒัะตะฒ โ ัะฐะน ะดะปั ัะพัะพะณัะฐัะพะฒ ๐ธ",
    "ะะธะบะพัะธั โ ะฟะพัะปะตะดะฝัั ยซะทะตะปัะฝะฐั ะปะธะฝะธัยป ะะฒัะพะฟั, ะณะดะต ะธััะพัะธั ะฒัััะตัะฐะตััั ั ัะพะฒัะตะผะตะฝะฝะพัััั ๐ฐ",
    "ะะดะตัั ะฟัะพะธะทะฒะพะดะธััั ะทะฝะฐะผะตะฝะธััะน ััั ัะฐะปะปัะผะธ โ ะตัะปะธ ะตัั ะฝะต ะฟัะพะฑะพะฒะฐะปะธ, ัะฐะผะพะต ะฒัะตะผั ๐ง",
    "ะ ะะฐัะพัะต ะฝะฐัะพะดะธััั ะดัะตะฒะฝะตะต ะณัะพะฑะฝะธัะฐ ะะพัะพะปะตะน โ ะฝะฐัะปะฐะถะดะฐะนัะตัั ะฐััะธัะตะบัััะพะน ะฟะพะด ะพัะบััััะผ ะฝะตะฑะพะผ ๐๏ธ",
    "ะะฐ ะะธะฟัะต ัะฐัััั ะบะธะฟะฐัะธัั, ะฒะพะทัะฐัั ะฝะตะบะพัะพััั ะฑะพะปะตะต 500 ะปะตั ๐ณ",
    "ะ ะณะพัะฐั ะขัะพะพะดะพั ะผะพะถะฝะพ ะฝะฐะนัะธ ะทะฐะฑัะพัะตะฝะฝัะต ะฒะธะทะฐะฝัะธะนัะบะธะต ะผะพะฝะฐััััะธ XII ะฒะตะบะฐ โช๏ธ",
    "ะะฐะถะดัั ะฒะตัะฝั ะพัััะพะฒ ะฟะพะบััะฒะฐะตััั ะฟะพะปะตะผ ะผะฐะบะพะฒ ะธ ะฒะฐัะธะปัะบะพะฒ โ ัะฐะน ะดะปั ัะพัะพะณัะฐัะพะฒ ๐ธ",
    "ะะฐ ะะธะฟัะต ะพะบะพะปะพ 60 ะฟะปัะถะตะน ะฟะพะปััะธะปะธ ยซะกะธะฝะธะน ัะปะฐะณยป ะทะฐ ัะธััะพัั ะฒะพะดั ะธ ัะตัะฒะธัะฐ ๐๏ธ",
    "ะะตััะฝัะต ะฐะฟะตะปััะธะฝั ััะธัะฐัััั ะพะดะฝะธะผะธ ะธะท ัะปะฐะดัะฐะนัะธั ะฒ ะผะธัะต โ ะฟะพะฟัะพะฑัะนัะต ะธั ัะฐะฝะฝะธะผ ัััะพะผ ๐",
    "ะะธะผะพะน ะณะพัั ะขัะพะพะดะพั ะฟะพะบััะฒะฐัััั ัะฝะตะณะพะผ, ะธ ะบะธะฟัะธะพัั ะบะฐัะฐัััั ะฝะฐ ะปัะถะฐั ๐ฟ",
    "ะะธะฟั โ ัะพะดะธะฝะฐ ะฟะพััะฐ ะะปะตะพะฑะฐ, ััะธ ััะธัะธ ะฟะพัะฒััะตะฝั ะบัะฐัะพัะต ะกัะตะดะธะทะตะผะฝะพะผะพััั ๐",
    "ะ ะะฐัะฝะฐะบะต ะฝะฐัะพะดะธััั ััะฐัะตะนัะฐั ัะพะฑะพัะฝะฐั ะผะตัะตัั XIII ะฒะตะบะฐ, ะดะตะนััะฒัััะฐั ะฟะพ ัะตะน ะดะตะฝั ๐",
]

# 3) ะฃะฝะธะฒะตััะฐะปัะฝัะต (ะพะฑัะธะต) ัะฐะบัั ะฝะฐ ัะปััะฐะน, ะตัะปะธ region ะฝะต ยซะบะฐะปะธะฝะธะฝะณัะฐะดยป ะธ ะฝะต ยซะบะธะฟัยป
DEFAULT_FACTS_UNI: List[str] = [
    "ะัะฝะฐ ัะดะฐะปัะตััั ะพั ะะตะผะปะธ ะฝะฐ 3.8 ัะผ ะบะฐะถะดัะน ะณะพะด.",
    "ะงะตะปะพะฒะตัะตัะบะธะน ะผะพะทะณ ะณะตะฝะตัะธััะตั ะดะพััะฐัะพัะฝะพ ัะฝะตัะณะธะธ, ััะพะฑั ะพัะฒะตัะธัั ะปะฐะผะฟะพัะบั.",
    "ะ ะบะพัะผะพัะต ะทะฒัะบะธ ะฝะต ัะฐัะฟัะพัััะฐะฝััััั, ะฟะพัะพะผั ััะพ ัะฐะผ ะฝะตั ะฐัะผะพััะตัั.",
    "ะกะพะปะฝัะต ัะพััะฐะฒะปัะตั 99.86 % ะผะฐััั ะกะพะปะฝะตัะฝะพะน ัะธััะตะผั.",
    "ะะพะปะฝะธั ะผะพะถะตั ะฑััั ะณะพัััะตะต ะฟะพะฒะตััะฝะพััะธ ะกะพะปะฝัะฐ (ะดะพ 30 000 ยฐC).",
    "ะะปะฐะฝะตัะฐ ะะตะฝะตัะฐ ะฒัะฐัะฐะตััั ะฒ ะพะฑัะฐัะฝะพะผ ะฝะฐะฟัะฐะฒะปะตะฝะธะธ (ัะตััะพะณัะฐะดะฝะพ).",
]

def get_fact(date: pendulum.Date, region: str = "") -> str:
    """
    ะะพะทะฒัะฐัะฐะตั ยซัะฐะบั ะดะฝัยป ะดะปั ะทะฐะดะฐะฝะฝะพะน ะดะฐัั date ะธ ัะตะณะธะพะฝะฐ region.

    ะะพะณะธะบะฐ ะฒัะฑะพัะฐ:
     1) ะัะปะธ region ัะพะดะตัะถะธั ยซะบะฐะปะธะฝะธะฝะณัะฐะดยป (ะฝะตะทะฐะฒะธัะธะผะพ ะพั ัะตะณะธัััะฐ):
        โ ัะพัะผะธััะตะผ ะบะปัั date.format("MM-DD")
        โ ะตัะปะธ ะบะปัั ะตััั ะฒ FACTS_KLGD โ ะฒะพะทะฒัะฐัะฐะตะผ ัะฒัะทะฐะฝะฝัะน ัะฐะบั
        โ ะธะฝะฐัะต ะฒะพะทะฒัะฐัะฐะตะผ ัะปััะฐะนะฝัะน ัะปะตะผะตะฝั ะธะท FACTS_KLGD_RANDOM
     2) ะะฝะฐัะต, ะตัะปะธ region ัะพะดะตัะถะธั ยซะบะธะฟัยป (ะฝะตะทะฐะฒะธัะธะผะพ ะพั ัะตะณะธัััะฐ):
        โ ัะพัะผะธััะตะผ ะบะปัั date.format("MM-DD")
        โ ะตัะปะธ ะบะปัั ะตััั ะฒ FACTS_CY โ ะฒะพะทะฒัะฐัะฐะตะผ ัะฒัะทะฐะฝะฝัะน ัะฐะบั
        โ ะธะฝะฐัะต ะฒะพะทะฒัะฐัะฐะตะผ ัะปััะฐะนะฝัะน ัะปะตะผะตะฝั ะธะท DEFAULT_FACTS_CY
     3) ะ ะปัะฑะพะผ ะดััะณะพะผ ัะปััะฐะต (region ะฝะต ยซะบะฐะปะธะฝะธะฝะณัะฐะดยป ะธ ะฝะต ยซะบะธะฟัยป):
        โ ะฒัะฑะธัะฐะตะผ ัะฐะบั ะธะท DEFAULT_FACTS_UNI ะฟะพ ะธะฝะดะตะบัั (date.day % len(DEFAULT_FACTS_UNI))
    """
    r = region.lower()
    key = date.format("MM-DD")

    # 1) ะคะฐะบั ะดะปั ะะฐะปะธะฝะธะฝะณัะฐะดะฐ
    if "ะบะฐะปะธะฝะธะฝะณัะฐะด" in r:
        if key in FACTS_KLGD:
            return FACTS_KLGD[key]
        return random.choice(FACTS_KLGD_RANDOM)

    # 2) ะคะฐะบั ะดะปั ะะธะฟัะฐ
    if "ะบะธะฟั" in r:
        if key in FACTS_CY:
            return FACTS_CY[key]
        return random.choice(DEFAULT_FACTS_CY)

    # 3) ะฃะฝะธะฒะตััะฐะปัะฝัะน ัะฐะบั
    idx = date.day % len(DEFAULT_FACTS_UNI)
    return DEFAULT_FACTS_UNI[idx]


# โโโโโโโโโโโโโโโโโโโโโโโโ ะะบะพะฝะบะธ & ัะฒะตัะฐ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

WEATHER_ICONS = {
    "ััะฝะพ":      "โ๏ธ",
    "ะฟะตัะตะผะตะฝะฝะฐั":"๐ค๏ธ",
    "ะฟะฐัะผััะฝะพ":  "โ๏ธ",
    "ะดะพะถะดั":     "๐ง๏ธ",
    "ััะผะฐะฝ":     "๐",
}

AIR_EMOJI = {
    "ัะพัะพัะธะน":     "๐ข",
    "ัะผะตัะตะฝะฝัะน":   "๐ก",
    "ะฒัะตะดะฝัะน":     "๐",
    "ะพั. ะฒัะตะดะฝัะน": "๐ด",
    "ะพะฟะฐัะฝัะน":     "๐ฃ",
    "ะฝ/ะด":         "โช",
}


# โโโโโโโโโโโโโโโโโโโโโโโโ ะคัะฝะบัะธั kp_emoji โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

K_COLOR = {
    "green":  range(0, 4),
    "yellow": range(4, 6),
    "red":    range(6, 10),
}

def kp_emoji(kp: Optional[float]) -> str:
    """
    ะะพะทะฒัะฐัะฐะตั ัะผะพะดะทะธ ะฟะพ ะธะฝะดะตะบัั Kp:
      k < 3    โ ๐ข
      3 โค k < 5 โ ๐ก
      k โฅ 5    โ ๐ด
      None     โ โช
    """
    if kp is None:
        return "โช"
    k = int(round(kp))
    if k in K_COLOR["green"]:
        return "๐ข"
    if k in K_COLOR["yellow"]:
        return "๐ก"
    return "๐ด"


# โโโโโโโโโโโโโโโโโโโโโโโโ ะขัะตะฝะด ะดะฐะฒะปะตะฝะธั โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

def pressure_trend(w: Dict[str, Any]) -> str:
    """
    โ ะตัะปะธ ะฑะปะธะถะฐะนัะธะน ัะฐั > +2 ะณะะฐ, โ ะตัะปะธ < โ2 ะณะะฐ, ะธะฝะฐัะต โ.
    w โ ะพะฑัะตะบั, ะฟะพะปััะตะฝะฝัะน ะธะท get_weather().
    """
    hp = w.get("hourly", {}).get("surface_pressure", [])
    if len(hp) < 2:
        return "โ"
    diff = hp[1] - hp[0]
    if diff >= 2:
        return "โ"
    if diff <= -2:
        return "โ"
    return "โ"


# โโโโโโโโโโโโโโโโโโโโโโโโ HTTP-ะพะฑัััะบะธ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

_HEADERS = {
    "User-Agent": "VayboMeter/1.0 (+https://github.com/)",
    "Accept":     "application/json",
}

def _get_retry(url: str, retries: int = 2, **params) -> Optional[dict]:
    """
    ะะพะฒัะพััะตั ะทะฐะฟัะพั ะดะพ retries ัะฐะท (ั ัะบัะฟะพะฝะตะฝัะธะฐะปัะฝัะผ ะฑัะบะพัะพะผ 0.5, 1, 2 ัะตะบัะฝะดั).
    ะะพะทะฒัะฐัะฐะตั JSON-ัะปะพะฒะฐัั ะธะปะธ None.
    """
    attempt = 0
    while attempt <= retries:
        try:
            r = requests.get(
                url,